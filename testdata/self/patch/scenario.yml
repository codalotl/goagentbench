name: Implementing patch support during setup
repo: github.com/codalotl/goagentbench
commit: 5517b3befefcaa15044656134aca4a895a74bbca

classification:
  type: feature
  has-spec: false
  single-package: false
  sees-failing-tests: false

setup: null

agent:
  package: internal/setup
  instructions: |
    In internal/setup, as part of setup, I want the ability to apply patches. The scenario.yml patches look like this (see @SPEC.md):

    # patch: apply the following patches. Each patch should be in git unified diff format (paths are relative to $WORKSPACE/$SCENARIODIR)
    patch:
      - somepatch.patch

    Implement this. You may write tests.

verify:
  copy:
    - from: gab_test.go 
      to: internal/setup
  must-modify:
    - internal/scenario
    - internal/setup
  tests:
    - ./...
